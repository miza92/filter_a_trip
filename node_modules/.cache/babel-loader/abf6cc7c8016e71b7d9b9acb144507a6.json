{"ast":null,"code":"var _jsxFileName = \"/home/miri/Bureau/tictactrip_test/tictactrip_test/src/components/TripForm.js\";\nimport React, { Component } from \"react\";\nimport { Grid, Row, Col, FormGroup, ControlLabel, FormControl } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { Card } from \"components/Card/Card.jsx\";\nimport { FormInputs } from \"components/FormInputs/FormInputs.jsx\";\nimport Button from \"components/CustomButton/CustomButton.jsx\";\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport Api from '../../config/Api';\nexport default class TripForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const poi = {\n        name: this.state.name,\n        phone: this.state.phone,\n        site: this.state.site,\n        hour: this.state.hour,\n        address: this.state.address,\n        zipcode: this.state.zipcode,\n        city: this.state.city,\n        lattitude: this.state.lattitude,\n        longitude: this.state.longitude,\n        description: this.state.description,\n        region_id: this.state.region_id\n      }; // console.log(poi);\n\n      axios.post(Api.url(\"/poi/create\"), poi).then(res => {\n        this.setState({\n          isCreate: true\n        });\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      phone: \"\",\n      site: \"\",\n      hour: \"\",\n      address: \"\",\n      zipcode: \"\",\n      city: \"\",\n      lattitude: \"\",\n      longitude: \"\",\n      description: \"\",\n      isCreate: false,\n      regions: [],\n      region_id: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('https://api.comparatrip.eu/cities/autocomplete/?q=P').then(response => {\n      // console.log(response.data);\n      this.setState({\n        regions: response.data\n      });\n      console.log(this.state.regions);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      region_id: event.target.value\n    });\n  }\n\n  validateForm() {\n    return this.state.name.length > 0 && this.state.address.length > 0 && this.state.city.length > 0 && this.state.zipcode.length > 0 && this.state.phone.length > 0 && this.state.lattitude.length > 0 && this.state.longitude.length > 0;\n  }\n\n  render() {\n    if (this.state.isCreate) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: \"/admin/Poi\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/admin/poi\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Back\"))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: \"Create POI\",\n        category: \"Please fill in the required fields *\",\n        content: React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Name *\",\n            type: \"text\",\n            placeholder: \"Name\",\n            onChange: this.handleChange,\n            id: \"name\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Phone *\",\n            type: \"text\",\n            placeholder: \"Phone\",\n            onChange: this.handleChange,\n            id: \"phone\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Site\",\n            type: \"text\",\n            placeholder: \"Site\",\n            onChange: this.handleChange,\n            id: \"site\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Hour\",\n            type: \"text\",\n            placeholder: \"Hour\",\n            onChange: this.handleChange,\n            id: \"hour\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Address *\",\n            type: \"text\",\n            placeholder: \"Address\",\n            onChange: this.handleChange,\n            id: \"address\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"ZIP Code *\",\n            type: \"text\",\n            placeholder: \"ZIP Code\",\n            onChange: this.handleChange,\n            id: \"zipcode\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"City *\",\n            type: \"text\",\n            placeholder: \"City\",\n            onChange: this.handleChange,\n            id: \"city\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(ControlLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"Region *\"), React.createElement(FormControl, {\n          componentClass: \"select\",\n          id: \"region_id\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, this.state.regions.map(region => React.createElement(\"option\", {\n          key: region.id,\n          value: region.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, region.name)))))), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Lattitude *\",\n            type: \"text\",\n            placeholder: \"Lattitude\",\n            onChange: this.handleChange,\n            id: \"lattitude\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }), React.createElement(FormInputs, {\n          ncols: [\"col-md-12\"],\n          properties: [{\n            label: \"Longitude *\",\n            type: \"text\",\n            placeholder: \"Longitude\",\n            onChange: this.handleChange,\n            id: \"longitude\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        }, React.createElement(ControlLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, \"Description\"), React.createElement(FormControl, {\n          rows: \"5\",\n          componentClass: \"textarea\",\n          bsClass: \"form-control\",\n          placeholder: \"Here can be your description\",\n          onChange: this.handleChange,\n          id: \"description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        })))), React.createElement(Button, {\n          bsStyle: \"info\",\n          pullRight: true,\n          fill: true,\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, \"Create POI\"), React.createElement(\"div\", {\n          className: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })))));\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/miri/Bureau/tictactrip_test/tictactrip_test/src/components/TripForm.js"],"names":["React","Component","Grid","Row","Col","FormGroup","ControlLabel","FormControl","Link","Card","FormInputs","Button","axios","Redirect","Api","TripForm","constructor","props","handleChange","event","setState","target","id","value","handleSubmit","preventDefault","poi","name","state","phone","site","hour","address","zipcode","city","lattitude","longitude","description","region_id","post","url","then","res","isCreate","catch","error","console","regions","bind","handleInputChange","componentDidMount","fetch","response","data","log","validateForm","length","render","pathname","label","type","placeholder","onChange","map","region"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Grid,\n  Row,\n  Col,\n  FormGroup,\n  ControlLabel,\n  FormControl\n} from \"react-bootstrap\";\nimport { Link} from \"react-router-dom\";\nimport { Card } from \"components/Card/Card.jsx\";\nimport { FormInputs } from \"components/FormInputs/FormInputs.jsx\";\nimport Button from \"components/CustomButton/CustomButton.jsx\";\nimport axios from 'axios';\nimport { Redirect } from 'react-router'\n\nimport Api from '../../config/Api';\n\nexport default class TripForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      phone:\"\",\n      site:\"\",\n      hour:\"\",\n      address:\"\",\n      zipcode:\"\",\n      city:\"\",\n      lattitude:\"\",\n      longitude:\"\",\n      description: \"\",\n      isCreate: false,\n      regions:[],\n      region_id: \"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  componentDidMount(){\n    fetch('https://api.comparatrip.eu/cities/autocomplete/?q=P')\n    .then(response => {\n      // console.log(response.data);\n      this.setState({\n        regions: response.data\n      });\n      console.log(this.state.regions)\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      region_id: event.target.value\n    });\n  }\n\n  validateForm() {\n    return (this.state.name.length > 0 && this.state.address.length > 0\n      && this.state.city.length > 0 && this.state.zipcode.length > 0\n      && this.state.phone.length > 0 && this.state.lattitude.length > 0 && this.state.longitude.length > 0\n    );\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const poi = {\n      name: this.state.name,\n      phone: this.state.phone,\n      site: this.state.site,\n      hour: this.state.hour,\n      address: this.state.address,\n      zipcode: this.state.zipcode,\n      city: this.state.city,\n      lattitude: this.state.lattitude,\n      longitude: this.state.longitude,\n      description: this.state.description,\n      region_id: this.state.region_id\n    };\n    // console.log(poi);\n\n    axios.post(Api.url(`/poi/create`), poi)\n    .then(res => {\n      this.setState({ isCreate: true });\n    })\n    .catch(error => {\n      console.error(error)\n    });\n  }\n\n  render() {\n    if (this.state.isCreate) {\n      return <Redirect to={{ pathname: \"/admin/Poi\" }} />\n    } else {\n      return (\n        <div className=\"content\">\n          <Grid fluid>\n            <Row>\n              <Col md={12}>\n                <Link to={\"/admin/poi\"} className=\"btn btn-primary\">Back</Link>\n              </Col>\n            </Row>\n            <br />\n            <Row>\n              <Col md={12}>\n                <Card\n                  title=\"Create POI\"\n                  category=\"Please fill in the required fields *\"\n                  content={\n                    <form onSubmit={this.handleSubmit}>\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Name *\",\n                            type: \"text\",\n                            placeholder: \"Name\",\n                            onChange: this.handleChange,\n                            id: \"name\"\n                          }\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Phone *\",\n                            type: \"text\",\n                            placeholder: \"Phone\",\n                            onChange: this.handleChange,\n                            id: \"phone\"\n                          },\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Site\",\n                            type: \"text\",\n                            placeholder: \"Site\",\n                            onChange: this.handleChange,\n                            id: \"site\"\n                          }\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Hour\",\n                            type: \"text\",\n                            placeholder: \"Hour\",\n                            onChange: this.handleChange,\n                            id: \"hour\"\n                          }\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Address *\",\n                            type: \"text\",\n                            placeholder: \"Address\",\n                            onChange: this.handleChange,\n                            id: \"address\"\n                          }\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"ZIP Code *\",\n                            type: \"text\",\n                            placeholder: \"ZIP Code\",\n                            onChange: this.handleChange,\n                            id: \"zipcode\"\n                          }\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"City *\",\n                            type: \"text\",\n                            placeholder: \"City\",\n                            onChange: this.handleChange,\n                            id: \"city\"\n                          }\n                        ]}\n                        />\n                      <Row>\n                        <Col md={12}>\n                          <FormGroup>\n                            <ControlLabel>Region *</ControlLabel>\n                            <FormControl componentClass=\"select\" id=\"region_id\" onChange={this.handleChange}>\n                              {this.state.regions.map((region) => <option key={region.id} value={region.id}>{region.name}</option>)}\n                            </FormControl>\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Lattitude *\",\n                            type: \"text\",\n                            placeholder: \"Lattitude\",\n                            onChange: this.handleChange,\n                            id: \"lattitude\"\n                          }\n                        ]}\n                        />\n                      <FormInputs\n                        ncols={[\"col-md-12\"]}\n                        properties={[\n                          {\n                            label: \"Longitude *\",\n                            type: \"text\",\n                            placeholder: \"Longitude\",\n                            onChange: this.handleChange,\n                            id: \"longitude\"\n                          }\n                        ]}\n                        />\n                      <Row>\n                        <Col md={12}>\n                          <FormGroup>\n                            <ControlLabel>Description</ControlLabel>\n                            <FormControl\n                              rows=\"5\"\n                              componentClass=\"textarea\"\n                              bsClass=\"form-control\"\n                              placeholder=\"Here can be your description\"\n                              onChange={this.handleChange}\n                              id=\"description\"\n                              />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      <Button bsStyle=\"info\" pullRight fill type=\"submit\">\n                        Create POI\n                      </Button>\n                      <div className=\"clearfix\" />\n                    </form>\n                  }\n                  />\n              </Col>\n            </Row>\n          </Grid>\n        </div>\n      );\n    }\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}