{"ast":null,"code":"var _jsxFileName = \"/home/miri/Bureau/tictactrip_test/filter_a_trip/src/components/BodyData.js\";\nimport React from 'react';\nimport { FormGroup, FormControl, Button } from \"react-bootstrap\";\nexport default class BodyData extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange1 = event => {\n      const query1 = event.target.value;\n      this.setState(prevState => {\n        const filteredData1 = prevState.res1.filter(element => {\n          return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n        });\n        return {\n          query1,\n          filteredData1\n        };\n      });\n    };\n\n    this.handleInputChange2 = event => {\n      const query2 = event.target.value;\n      this.setState(prevState => {\n        const filteredData2 = prevState.res2.filter(element => {\n          return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n        });\n        return {\n          query2,\n          filteredData2\n        };\n      });\n    };\n\n    this.getData = () => {\n      const url1 = [\"https://api.comparatrip.eu/cities/popular/5\"];\n      const url2 = [\"https://api.comparatrip.eu/cities/popular/from/puteaux/5\"];\n      Promise.all([fetch(url1), fetch(url2)]).then(([res1, res2]) => {\n        return Promise.all([res1.json(), res2.json()]);\n      }).then(([res1, res2]) => {\n        const query1 = this.state.query1;\n        const query2 = this.state.query2;\n        const filteredData1 = res1.filter(element => {\n          return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n        });\n        const filteredData2 = res2.filter(element => {\n          return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n        });\n        this.setState({\n          res1,\n          res2,\n          filteredData1,\n          filteredData2\n        });\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      fetch(\"https://api.comparatrip.eu/cities/autocomplete/?q=\".concat(this.state.query1)).then(res => res.json()).then(res => {\n        this.setState({\n          filteredData1: res\n        });\n        console.log(this.state.filteredData1);\n      });\n    };\n\n    this.state = {\n      query1: \"\",\n      query2: \"\",\n      filteredData1: [],\n      filteredData2: []\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.getData();\n  }\n\n  render() {\n    var someDate = new Date();\n    var numberOfDaysToAdd = 3;\n    var date = someDate.setDate(someDate.getDate() + numberOfDaysToAdd);\n    return React.createElement(\"div\", {\n      className: \"BodyData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Quel est votre trajet ?\"), React.createElement(\"div\", {\n      className: \"SearchForm1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"departureStation\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"text\",\n      placeholder: \"Saisissez votre d\\xE9part...\",\n      value: this.state.query1,\n      onChange: this.handleInputChange1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SearchData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.filteredData1.map(i => React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      /*onClick={this.handleInputChange1}*/\n      key: i.city_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, i.unique_name))))), React.createElement(\"div\", {\n      className: \"SearchForm2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"arrivalStation\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      placeholder: \"Saisissez votre arriv\\xE9e...\",\n      value: this.state.query2,\n      onChange: this.handleInputChange2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SearchData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.filteredData2.map(it => React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      key: it.city_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, it.unique_name))))), React.createElement(\"div\", {\n      className: \"ToGoTrip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"toGo-time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Aller :\"), React.createElement(\"input\", {\n      id: \"toGo-time\",\n      type: \"datetime-local\",\n      name: \"dateRequired\",\n      defaultValue: date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ReturnTrip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"return-time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Retour :\"), React.createElement(\"input\", {\n      id: \"return-time\",\n      type: \"datetime-local\",\n      name: \"dateRequired\",\n      defaultValue: date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"btn btn-outline-primary col-sm-2 bot\",\n      block: true,\n      bsSize: \"large\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Valider\"));\n  }\n\n}","map":{"version":3,"sources":["/home/miri/Bureau/tictactrip_test/filter_a_trip/src/components/BodyData.js"],"names":["React","FormGroup","FormControl","Button","BodyData","Component","constructor","props","handleInputChange1","event","query1","target","value","setState","prevState","filteredData1","res1","filter","element","unique_name","toLowerCase","includes","handleInputChange2","query2","filteredData2","res2","getData","url1","url2","Promise","all","fetch","then","json","state","handleSubmit","preventDefault","res","console","log","UNSAFE_componentWillMount","render","someDate","Date","numberOfDaysToAdd","date","setDate","getDate","map","i","city_id","it"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FormGroup, FormControl, Button } from \"react-bootstrap\";\n\nexport default class BodyData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query1: \"\",\n      query2: \"\",\n      filteredData1: [],\n      filteredData2: []\n    };\n  }\n\n  handleInputChange1 = event => {\n    const query1 = event.target.value;\n    this.setState(prevState => {\n      const filteredData1 = prevState.res1.filter(element => {\n        return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n      });  \n      return {\n        query1,\n        filteredData1,\n      };\n    });\n  };\n\n  handleInputChange2 = event => {\n    const query2 = event.target.value;\n    this.setState(prevState => {\n      const filteredData2 = prevState.res2.filter(element => {\n        return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n      });      \n      return {\n        query2,\n        filteredData2\n      };\n    });\n  };\n\n  getData = () => {\n    const url1 = [\n      `https://api.comparatrip.eu/cities/popular/5`,\n    ];\n    const url2 = [\n      `https://api.comparatrip.eu/cities/popular/from/puteaux/5`,\n    ];\n    Promise.all([fetch(url1), fetch(url2)])\n     .then(([res1, res2]) => { \n     return Promise.all([res1.json(), res2.json()]) \n    })\n    .then(([res1, res2]) => {\n      const { query1 } = this.state;\n      const { query2 } = this.state;\n      const filteredData1 = res1.filter(element => {\n        return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n      });\n      const filteredData2 = res2.filter(element => {\n        return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n      });\n      this.setState({\n        res1,\n        res2,\n        filteredData1,\n        filteredData2\n      });\n    });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.getData();\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    fetch(`https://api.comparatrip.eu/cities/autocomplete/?q=${this.state.query1}`)\n    .then(res => res.json())\n    .then(res => {\n      this.setState({\n        filteredData1: res,\n      })\n      console.log(this.state.filteredData1)\n    });\n  }\n\n  render() {\n    var someDate = new Date();\n    var numberOfDaysToAdd = 3;\n    var date = someDate.setDate(someDate.getDate() + numberOfDaysToAdd); \n    return (\n      <div className=\"BodyData\">\n        <p className=\"Title\">Quel est votre trajet ?</p>\n        <div className=\"SearchForm1\">\n          <form onSubmit={this.handleSubmit}>\n            <FormGroup controlId=\"departureStation\" bsSize=\"large\">\n              <FormControl\n                autoFocus\n                type=\"text\"\n                placeholder =\"Saisissez votre départ...\"\n                value={this.state.query1}\n                onChange={this.handleInputChange1}\n              />\n            </FormGroup>\n          </form>\n          <div className=\"SearchData\">{this.state.filteredData1.map(i => <strong><p /*onClick={this.handleInputChange1}*/ key={i.city_id}>{i.unique_name}</p></strong>)}</div>\n        </div>\n        <div className=\"SearchForm2\">\n          <form>\n            <FormGroup controlId=\"arrivalStation\" bsSize=\"large\">\n              <FormControl\n                type=\"text\"\n                placeholder =\"Saisissez votre arrivée...\"\n                value={this.state.query2}\n                onChange={this.handleInputChange2}\n              />\n            </FormGroup>\n          </form>\n          <div className=\"SearchData\">{this.state.filteredData2.map(it => <strong><p key={it.city_id}>{it.unique_name}</p></strong>)}</div>\n        </div>\n        <div className=\"ToGoTrip\">\n          <label for=\"toGo-time\">Aller :</label>\n            <input id=\"toGo-time\" type=\"datetime-local\" name=\"dateRequired\" defaultValue={date} />\n        </div>\n        <div className=\"ReturnTrip\">\n          <label for=\"return-time\">Retour :</label>\n            <input id=\"return-time\" type=\"datetime-local\" name=\"dateRequired\" defaultValue={date} />\n        </div>\n        <Button\n          className=\"btn btn-outline-primary col-sm-2 bot\"\n          block\n          bsSize=\"large\"\n          type=\"submit\"\n        >\n          Valider\n        </Button>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}