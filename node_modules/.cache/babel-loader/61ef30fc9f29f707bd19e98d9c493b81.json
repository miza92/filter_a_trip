{"ast":null,"code":"var _jsxFileName = \"/home/miri/Bureau/tictactrip_test/tictactrip_test/src/components/BodyData.js\";\nimport React from 'react';\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nexport default class BodyData extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: \"\",\n      data: [],\n      filteredData: []\n    };\n\n    this.handleInputChange = event => {\n      const query = event.target.value;\n      this.setState(prevState => {\n        const filteredData = prevState.data.filter(element => {\n          return element.unique_name.toLowerCase().includes(query.toLowerCase());\n        });\n        return {\n          query,\n          filteredData\n        };\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const DepartureCity = {\n        departureCity: this.state.departureCity\n      };\n      console.log(DepartureCity);\n      fetch(\"https://api.comparatrip.eu/cities/autocomplete/?q=\", DepartureCity).then(res => res.json()) // .then(data => this.setState({ res: data }));\n      // .then(json => console.log(json))\n      .then(res => {\n        this.setState({\n          // isModify: true,\n          // departureCity : res,\n          cities: res\n        }); // console.log(this.state.cities[0].unique_name)\n\n        console.log(this.state.departureCity);\n      });\n    };\n\n    this.getData = () => {\n      fetch(\"https://api.comparatrip.eu/cities/popular/5\").then(response => response.json()).then(data => {\n        const query = this.state.query;\n        const filteredData = data.filter(element => {\n          return element.unique_name.toLowerCase().includes(query.toLowerCase());\n        });\n        this.setState({\n          data,\n          filteredData\n        });\n      });\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.getData();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"BodyData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"SearchForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"departureStation\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"text\",\n      placeholder: \"Saisissez votre gare de d\\xE9part...\",\n      value: this.state.query,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SearchData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.filteredData.map(i => React.createElement(\"p\", {\n      key: i.city_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, i.unique_name)))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"SearchForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"arrivalStation\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"text\",\n      placeholder: \"Saisissez votre gare de d'arriv\\xE9e...\",\n      value: this.state.query,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SearchData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.filteredData.map(i => React.createElement(\"p\", {\n      key: i.city_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, i.unique_name)))));\n  }\n\n}","map":{"version":3,"sources":["/home/miri/Bureau/tictactrip_test/tictactrip_test/src/components/BodyData.js"],"names":["React","FormGroup","FormControl","BodyData","Component","state","query","data","filteredData","handleInputChange","event","target","value","setState","prevState","filter","element","unique_name","toLowerCase","includes","handleSubmit","preventDefault","DepartureCity","departureCity","console","log","fetch","then","res","json","cities","getData","response","UNSAFE_componentWillMount","render","map","i","city_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FormGroup, FormControl } from \"react-bootstrap\";\n\nexport default class BodyData extends React.Component {\n  state = {\n    query: \"\",\n    data: [],\n    filteredData: []\n  };\n\n  handleInputChange = event => {\n    const query = event.target.value;\n\n    this.setState(prevState => {\n      const filteredData = prevState.data.filter(element => {\n        return element.unique_name.toLowerCase().includes(query.toLowerCase());\n      });\n\n      return {\n        query,\n        filteredData\n      };\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    \n    const DepartureCity = {\n      departureCity: this.state.departureCity,\n    };\n    console.log(DepartureCity);\n    fetch(`https://api.comparatrip.eu/cities/autocomplete/?q=`, DepartureCity)\n    .then(res => res.json())\n    // .then(data => this.setState({ res: data }));\n    // .then(json => console.log(json))\n    .then(res => {\n      this.setState({\n        // isModify: true,\n        // departureCity : res,\n        cities: res,\n      })\n      // console.log(this.state.cities[0].unique_name)\n      console.log(this.state.departureCity)\n    });\n  }\n\n  getData = () => {\n    fetch(`https://api.comparatrip.eu/cities/popular/5`)\n    .then(response => response.json())\n    .then(data => {\n      const { query } = this.state;\n      const filteredData = data.filter(element => {\n        return element.unique_name.toLowerCase().includes(query.toLowerCase());\n      });\n      this.setState({\n        data,\n        filteredData\n      });\n    });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.getData();\n  }\n\n  render() {\n    return (\n      <div className=\"BodyData\">\n        <div className=\"SearchForm\">\n          <form onSubmit={this.handleSubmit}>\n            <FormGroup controlId=\"departureStation\" bsSize=\"large\">\n              <FormControl\n                autoFocus\n                type=\"text\"\n                placeholder =\"Saisissez votre gare de départ...\"\n                value={this.state.query}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </form>\n          <div className=\"SearchData\">{this.state.filteredData.map(i => <p key={i.city_id}>{i.unique_name}</p>)}</div>\n        </div>\n        <hr/>\n        <div className=\"SearchForm\">\n          <form onSubmit={this.handleSubmit}>\n            <FormGroup controlId=\"arrivalStation\" bsSize=\"large\">\n              <FormControl\n                autoFocus\n                type=\"text\"\n                placeholder =\"Saisissez votre gare de d'arrivée...\"\n                value={this.state.query}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </form>\n          <div className=\"SearchData\">{this.state.filteredData.map(i => <p key={i.city_id}>{i.unique_name}</p>)}</div>\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}