{"ast":null,"code":"var _jsxFileName = \"/home/miri/Bureau/tictactrip_test/tictactrip_test/src/components/BodyData.js\";\nimport React from 'react';\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nexport default class BodyData extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query1: \"\",\n      query2: \"\",\n      filteredData1: [],\n      filteredData2: []\n    };\n\n    this.handleInputChange1 = event => {\n      const query1 = event.target.value;\n      this.setState(prevState => {\n        const filteredData1 = prevState.res1.filter(element => {\n          return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n        });\n        return {\n          query1,\n          filteredData1\n        };\n      });\n    };\n\n    this.handleInputChange2 = event => {\n      const query2 = event.target.value;\n      this.setState(prevState => {\n        const filteredData2 = prevState.res2.filter(element => {\n          return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n        });\n        return {\n          query2,\n          filteredData2\n        };\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const DepartureCity = {\n        departureCity: this.state.departureCity\n      };\n      console.log(DepartureCity);\n      fetch(\"https://api.comparatrip.eu/cities/autocomplete/?q=\", DepartureCity).then(res => res.json()) // .then(data => this.setState({ res: data }));\n      // .then(json => console.log(json))\n      .then(res => {\n        this.setState({\n          // isModify: true,\n          // departureCity : res,\n          cities: res\n        }); // console.log(this.state.cities[0].unique_name)\n\n        console.log(this.state.departureCity);\n      });\n    };\n\n    this.getData = () => {\n      const url1 = [\"https://api.comparatrip.eu/cities/popular/5\"];\n      const url2 = [\"https://api.comparatrip.eu/cities/popular/from/puteaux/5\"];\n      Promise.all([fetch(url1), fetch(url2)]).then(([res1, res2]) => {\n        return Promise.all([res1.json(), res2.json()]);\n      }).then(([res1, res2]) => {\n        const query1 = this.state.query1;\n        const query2 = this.state.query2;\n        const filteredData1 = res1.filter(element => {\n          return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n        });\n        const filteredData2 = res2.filter(element => {\n          return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n        });\n        this.setState({\n          res1,\n          res2,\n          filteredData1,\n          filteredData2\n        });\n      });\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.getData();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"BodyData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Quel est votre trajet ?\"), React.createElement(\"div\", {\n      className: \"SearchForm1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"departureStation\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"text\",\n      placeholder: \"Saisissez votre d\\xE9part...\",\n      value: this.state.query1,\n      onChange: this.handleInputChange1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SearchData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.filteredData1.map(i => React.createElement(\"p\", {\n      key: i.city_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, i.unique_name)))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"SearchForm2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"arrivalStation\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      placeholder: \"Saisissez votre arriv\\xE9e...\",\n      value: this.state.query2,\n      onChange: this.handleInputChange2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SearchData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.filteredData2.map(it => React.createElement(\"p\", {\n      key: it.city_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, it.unique_name)))));\n  }\n\n}","map":{"version":3,"sources":["/home/miri/Bureau/tictactrip_test/tictactrip_test/src/components/BodyData.js"],"names":["React","FormGroup","FormControl","BodyData","Component","state","query1","query2","filteredData1","filteredData2","handleInputChange1","event","target","value","setState","prevState","res1","filter","element","unique_name","toLowerCase","includes","handleInputChange2","res2","handleSubmit","preventDefault","DepartureCity","departureCity","console","log","fetch","then","res","json","cities","getData","url1","url2","Promise","all","UNSAFE_componentWillMount","render","map","i","city_id","it"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FormGroup, FormControl } from \"react-bootstrap\";\n\nexport default class BodyData extends React.Component {\n  state = {\n    query1: \"\",\n    query2: \"\",\n    filteredData1: [],\n    filteredData2: []\n  };\n\n  handleInputChange1 = event => {\n    const query1 = event.target.value;\n\n    this.setState(prevState => {\n      const filteredData1 = prevState.res1.filter(element => {\n        return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n      });  \n\n      return {\n        query1,\n        filteredData1,\n      };\n    });\n  };\n  handleInputChange2 = event => {\n    const query2 = event.target.value;\n\n    this.setState(prevState => {\n\n      const filteredData2 = prevState.res2.filter(element => {\n        return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n      });      \n\n      return {\n        query2,\n        filteredData2\n      };\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    \n    const DepartureCity = {\n      departureCity: this.state.departureCity,\n    };\n    console.log(DepartureCity);\n    fetch(`https://api.comparatrip.eu/cities/autocomplete/?q=`, DepartureCity)\n    .then(res => res.json())\n    // .then(data => this.setState({ res: data }));\n    // .then(json => console.log(json))\n    .then(res => {\n      this.setState({\n        // isModify: true,\n        // departureCity : res,\n        cities: res,\n      })\n      // console.log(this.state.cities[0].unique_name)\n      console.log(this.state.departureCity)\n    });\n  }\n\n  getData = () => {\n    const url1 = [\n      `https://api.comparatrip.eu/cities/popular/5`,\n    ];\n    const url2 = [\n      `https://api.comparatrip.eu/cities/popular/from/puteaux/5`,\n    ];\n    Promise.all([fetch(url1), fetch(url2)])\n     .then(([res1, res2]) => { \n     return Promise.all([res1.json(), res2.json()]) \n    })\n    .then(([res1, res2]) => {\n      const { query1 } = this.state;\n      const { query2 } = this.state;\n      const filteredData1 = res1.filter(element => {\n        return element.unique_name.toLowerCase().includes(query1.toLowerCase());\n      });\n      const filteredData2 = res2.filter(element => {\n        return element.unique_name.toLowerCase().includes(query2.toLowerCase());\n      });\n      this.setState({\n        res1,\n        res2,\n        filteredData1,\n        filteredData2\n      });\n    });\n  };\n\n  UNSAFE_componentWillMount() {\n    this.getData();\n  }\n\n  render() {\n    return (\n      <div className=\"BodyData\">\n        <p className=\"Title\">Quel est votre trajet ?</p>\n        <div className=\"SearchForm1\">\n          <form onSubmit={this.handleSubmit}>\n            <FormGroup controlId=\"departureStation\" bsSize=\"large\">\n              <FormControl\n                autoFocus\n                type=\"text\"\n                placeholder =\"Saisissez votre départ...\"\n                value={this.state.query1}\n                onChange={this.handleInputChange1}\n              />\n            </FormGroup>\n          </form>\n          <div className=\"SearchData\">{this.state.filteredData1.map(i => <p key={i.city_id}>{i.unique_name}</p>)}</div>\n        </div>\n        <hr/>\n        <div className=\"SearchForm2\">\n          <form>\n            <FormGroup controlId=\"arrivalStation\" bsSize=\"large\">\n              <FormControl\n                type=\"text\"\n                placeholder =\"Saisissez votre arrivée...\"\n                value={this.state.query2}\n                onChange={this.handleInputChange2}\n              />\n            </FormGroup>\n          </form>\n          <div className=\"SearchData\">{this.state.filteredData2.map(it => <p key={it.city_id}>{it.unique_name}</p>)}</div>\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}